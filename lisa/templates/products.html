<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sklad | Mahsulotlar</title>
</head>
<body>

<div class="app">
    <!-- SIDEBAR -->
    <aside class="sidebar">
        <h2 class="logo">ðŸ“¦</h2>
        <nav>
            <a href="kirim.html"><span>âž•</span><b>Kirim</b></a>
            <a href="chiqim.html"><span>âž–</span><b>Chiqim</b></a>
            <a href="products.html" class="active"><span>ðŸ“‹</span><b>Mahsulotlar</b></a>
            <a href="malumot.html"><span>ðŸ“Š</span><b>Maâ€™lumot</b></a>
            <a href="#" class="logout"><span>ðŸšª</span><b>Chiqish</b></a>
        </nav>
    </aside>

    <!-- CONTENT -->
    <main class="content">
        <h1>Mahsulotlar</h1>
        <div id="alert" class="alert hidden"></div>

        <div class="card" id="productList"></div>
    </main>
</div>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:"Segoe UI",sans-serif}
body{background:#f4f6f8}
.app{display:flex;min-height:100vh}

/* Sidebar */
.sidebar{width:260px;background:#1e293b;color:#fff;padding:25px;transition:.3s}
.logo{text-align:center;margin-bottom:40px;font-size:26px}
.sidebar nav{display:flex;flex-direction:column;gap:15px}
.sidebar a{display:flex;align-items:center;gap:14px;color:#cbd5e1;text-decoration:none;font-size:18px;padding:10px 15px;border-radius:10px}
.sidebar a span{font-size:22px;min-width:26px;text-align:center}
.sidebar a.active,.sidebar a:hover{background:#334155;color:#fff}
.logout{margin-top:40px;background:#7f1d1d;color:#fecaca!important}

/* Content */
.content{flex:1;padding:40px}
h1{margin-bottom:20px}

/* Card product rows */
.product-row{
    display:flex;
    gap:10px;
    align-items:center;
    margin-bottom:12px;
    flex-wrap:wrap;
}
.product-row input[type=text], .product-row input[type=number]{
    padding:8px;
    border-radius:8px;
    border:1px solid #cbd5e1;
    flex:1;
}
.product-row button{
    padding:8px 12px;
    border:none;
    border-radius:8px;
    background:#2563eb;
    color:white;
    cursor:pointer;
}
.product-row button:hover{background:#1d4ed8}

/* Alerts */
.alert{padding:12px 16px;border-radius:10px;margin-bottom:15px}
.alert.success{background:#dcfce7;color:#166534}
.alert.error{background:#fee2e2;color:#7f1d1d}
.hidden{display:none}

/* MOBILE */
@media(max-width:768px){
    .sidebar{width:70px;padding:15px 8px}
    .sidebar a{justify-content:center}
    .sidebar a b{display:none}
    .logo{font-size:24px}
    .content{padding:20px 15px}

    /* Mobile stacked layout */
    .product-row{
        flex-direction:column;  /* stack vertically */
        align-items:stretch;    /* inputs full width */
        background:#f8fafc;
        padding:12px;
        border-radius:12px;
    }
    .product-row input{
        width:100%;
        margin-bottom:6px;
    }
    .product-row button{
        width:100%;
    }
}
</style>

<script>
let products=[
    {id:1,name:"Shakar",price:12000},
    {id:2,name:"Un",price:8000},
    {id:3,name:"Yogâ€˜",price:18000},
];

const productList=document.getElementById("productList");
const alertBox=document.getElementById("alert");

function renderProducts(){
    productList.innerHTML="";
    products.forEach(p=>{
        const div=document.createElement("div");
        div.className="product-row";
        div.innerHTML=`
            <input type="text" value="${p.name}" id="name_${p.id}" placeholder="Mahsulot nomi">
            <input type="number" value="${p.price}" id="price_${p.id}" placeholder="Narxi">
            <button onclick="saveProduct(${p.id})">ðŸ’¾ Saqlash</button>
        `;
        productList.appendChild(div);
    });
}

function saveProduct(id){
    const name=document.getElementById(`name_${id}`).value.trim();
    const price=+document.getElementById(`price_${id}`).value;
    if(!name||!price){showAlert("âŒ Barcha maydonlarni toâ€˜ldiring","error");return;}
    const p=products.find(x=>x.id===id);
    p.name=name;
    p.price=price;
    showAlert("âœ… Mahsulot saqlandi","success");
    renderProducts();
}

function showAlert(msg,type){
    alertBox.textContent=msg;
    alertBox.className=`alert ${type}`;
    alertBox.classList.remove("hidden");
    setTimeout(()=>alertBox.classList.add("hidden"),3000);
}

renderProducts();
</script>
